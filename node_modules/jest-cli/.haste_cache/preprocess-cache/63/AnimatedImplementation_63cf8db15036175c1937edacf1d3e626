'use strict';var 































Animated=function(){function Animated(){babelHelpers.classCallCheck(this,Animated);}babelHelpers.createClass(Animated,[{key:'__attach',value:function __attach()
{}},{key:'__detach',value:function __detach()
{}},{key:'__getValue',value:function __getValue()
{}},{key:'__getAnimatedValue',value:function __getAnimatedValue()
{return this.__getValue();}},{key:'__addChild',value:function __addChild(
child){}},{key:'__removeChild',value:function __removeChild(
child){}},{key:'__getChildren',value:function __getChildren()
{return [];}}]);return Animated;}();var 









Animation=function(){function Animation(){babelHelpers.classCallCheck(this,Animation);}babelHelpers.createClass(Animation,[{key:'start',value:function start(




fromValue,
onUpdate,
onEnd,
previousAnimation)
{}},{key:'stop',value:function stop()
{}},{key:'__debouncedOnEnd',value:function __debouncedOnEnd(

result){
var onEnd=this.__onEnd;
this.__onEnd=null;
onEnd&&onEnd(result);}}]);return Animation;}();var 



AnimatedWithChildren=function(_Animated){babelHelpers.inherits(AnimatedWithChildren,_Animated);


function AnimatedWithChildren(){babelHelpers.classCallCheck(this,AnimatedWithChildren);var _this=babelHelpers.possibleConstructorReturn(this,Object.getPrototypeOf(AnimatedWithChildren).call(this));

_this.$AnimatedWithChildren_children=[];return _this;}babelHelpers.createClass(AnimatedWithChildren,[{key:'__addChild',value:function __addChild(


child){
if(this.$AnimatedWithChildren_children.length===0){
this.__attach();}

this.$AnimatedWithChildren_children.push(child);}},{key:'__removeChild',value:function __removeChild(


child){
var index=this.$AnimatedWithChildren_children.indexOf(child);
if(index===-1){
console.warn('Trying to remove a child that doesn\'t exist');
return;}

this.$AnimatedWithChildren_children.splice(index,1);
if(this.$AnimatedWithChildren_children.length===0){
this.__detach();}}},{key:'__getChildren',value:function __getChildren()



{
return this.$AnimatedWithChildren_children;}}]);return AnimatedWithChildren;}(Animated);

























function _flush(rootNode){
var animatedStyles=new (require('Set'))();
function findAnimatedStyles(node){
if(typeof node.update==='function'){
animatedStyles.add(node);}else 
{
node.__getChildren().forEach(findAnimatedStyles);}}


findAnimatedStyles(rootNode);

animatedStyles.forEach(function(animatedStyle){return animatedStyle.update();});}
















var easeInOut=require('Easing').inOut(require('Easing').ease);var 

TimingAnimation=function(_Animation){babelHelpers.inherits(TimingAnimation,_Animation);










function TimingAnimation(
config)
{babelHelpers.classCallCheck(this,TimingAnimation);var _this2=babelHelpers.possibleConstructorReturn(this,Object.getPrototypeOf(TimingAnimation).call(this));

_this2.$TimingAnimation_toValue=config.toValue;
_this2.$TimingAnimation_easing=config.easing!==undefined?config.easing:easeInOut;
_this2.$TimingAnimation_duration=config.duration!==undefined?config.duration:500;
_this2.$TimingAnimation_delay=config.delay!==undefined?config.delay:0;
_this2.__isInteraction=config.isInteraction!==undefined?config.isInteraction:true;return _this2;}babelHelpers.createClass(TimingAnimation,[{key:'start',value:function start(



fromValue,
onUpdate,
onEnd)
{var _this3=this;
this.__active=true;
this.$TimingAnimation_fromValue=fromValue;
this.$TimingAnimation_onUpdate=onUpdate;
this.__onEnd=onEnd;

var start=function(){
if(_this3.$TimingAnimation_duration===0){
_this3.$TimingAnimation_onUpdate(_this3.$TimingAnimation_toValue);
_this3.__debouncedOnEnd({finished:true});}else 
{
_this3.$TimingAnimation_startTime=Date.now();
_this3.$TimingAnimation_animationFrame=require('fbjs/lib/requestAnimationFrame')(_this3.onUpdate.bind(_this3));}};


if(this.$TimingAnimation_delay){
this.$TimingAnimation_timeout=setTimeout(start,this.$TimingAnimation_delay);}else 
{
start();}}},{key:'onUpdate',value:function onUpdate()



{
var now=Date.now();
if(now>=this.$TimingAnimation_startTime+this.$TimingAnimation_duration){
if(this.$TimingAnimation_duration===0){
this.$TimingAnimation_onUpdate(this.$TimingAnimation_toValue);}else 
{
this.$TimingAnimation_onUpdate(
this.$TimingAnimation_fromValue+this.$TimingAnimation_easing(1)*(this.$TimingAnimation_toValue-this.$TimingAnimation_fromValue));}


this.__debouncedOnEnd({finished:true});
return;}


this.$TimingAnimation_onUpdate(
this.$TimingAnimation_fromValue+
this.$TimingAnimation_easing((now-this.$TimingAnimation_startTime)/this.$TimingAnimation_duration)*(
this.$TimingAnimation_toValue-this.$TimingAnimation_fromValue));

if(this.__active){
this.$TimingAnimation_animationFrame=require('fbjs/lib/requestAnimationFrame')(this.onUpdate.bind(this));}}},{key:'stop',value:function stop()



{
this.__active=false;
clearTimeout(this.$TimingAnimation_timeout);
window.cancelAnimationFrame(this.$TimingAnimation_animationFrame);
this.__debouncedOnEnd({finished:false});}}]);return TimingAnimation;}(Animation);var 













DecayAnimation=function(_Animation2){babelHelpers.inherits(DecayAnimation,_Animation2);








function DecayAnimation(
config)
{babelHelpers.classCallCheck(this,DecayAnimation);var _this4=babelHelpers.possibleConstructorReturn(this,Object.getPrototypeOf(DecayAnimation).call(this));

_this4.$DecayAnimation_deceleration=config.deceleration!==undefined?config.deceleration:0.998;
_this4.$DecayAnimation_velocity=config.velocity;
_this4.__isInteraction=config.isInteraction!==undefined?config.isInteraction:true;return _this4;}babelHelpers.createClass(DecayAnimation,[{key:'start',value:function start(



fromValue,
onUpdate,
onEnd)
{
this.__active=true;
this.$DecayAnimation_lastValue=fromValue;
this.$DecayAnimation_fromValue=fromValue;
this.$DecayAnimation_onUpdate=onUpdate;
this.__onEnd=onEnd;
this.$DecayAnimation_startTime=Date.now();
this.$DecayAnimation_animationFrame=require('fbjs/lib/requestAnimationFrame')(this.onUpdate.bind(this));}},{key:'onUpdate',value:function onUpdate()


{
var now=Date.now();

var value=this.$DecayAnimation_fromValue+
this.$DecayAnimation_velocity/(1-this.$DecayAnimation_deceleration)*(
1-Math.exp(-(1-this.$DecayAnimation_deceleration)*(now-this.$DecayAnimation_startTime)));

this.$DecayAnimation_onUpdate(value);

if(Math.abs(this.$DecayAnimation_lastValue-value)<0.1){
this.__debouncedOnEnd({finished:true});
return;}


this.$DecayAnimation_lastValue=value;
if(this.__active){
this.$DecayAnimation_animationFrame=require('fbjs/lib/requestAnimationFrame')(this.onUpdate.bind(this));}}},{key:'stop',value:function stop()



{
this.__active=false;
window.cancelAnimationFrame(this.$DecayAnimation_animationFrame);
this.__debouncedOnEnd({finished:false});}}]);return DecayAnimation;}(Animation);



























function withDefault(value,defaultValue){
if(value===undefined||value===null){
return defaultValue;}

return value;}var 


SpringAnimation=function(_Animation3){babelHelpers.inherits(SpringAnimation,_Animation3);















function SpringAnimation(
config)
{babelHelpers.classCallCheck(this,SpringAnimation);var _this5=babelHelpers.possibleConstructorReturn(this,Object.getPrototypeOf(SpringAnimation).call(this));


_this5.$SpringAnimation_overshootClamping=withDefault(config.overshootClamping,false);
_this5.$SpringAnimation_restDisplacementThreshold=withDefault(config.restDisplacementThreshold,0.001);
_this5.$SpringAnimation_restSpeedThreshold=withDefault(config.restSpeedThreshold,0.001);
_this5.$SpringAnimation_initialVelocity=config.velocity;
_this5.$SpringAnimation_lastVelocity=withDefault(config.velocity,0);
_this5.$SpringAnimation_toValue=config.toValue;
_this5.__isInteraction=config.isInteraction!==undefined?config.isInteraction:true;

var springConfig;
if(config.bounciness!==undefined||config.speed!==undefined){
!(
config.tension===undefined&&config.friction===undefined)?require('fbjs/lib/invariant')(0,
'You can only define bounciness/speed or tension/friction but not both'):undefined;

springConfig=require('SpringConfig').fromBouncinessAndSpeed(
withDefault(config.bounciness,8),
withDefault(config.speed,12));}else 

{
springConfig=require('SpringConfig').fromOrigamiTensionAndFriction(
withDefault(config.tension,40),
withDefault(config.friction,7));}


_this5.$SpringAnimation_tension=springConfig.tension;
_this5.$SpringAnimation_friction=springConfig.friction;return _this5;}babelHelpers.createClass(SpringAnimation,[{key:'start',value:function start(



fromValue,
onUpdate,
onEnd,
previousAnimation)
{
this.__active=true;
this.$SpringAnimation_startPosition=fromValue;
this.$SpringAnimation_lastPosition=this.$SpringAnimation_startPosition;

this.$SpringAnimation_onUpdate=onUpdate;
this.__onEnd=onEnd;
this.$SpringAnimation_lastTime=Date.now();

if(previousAnimation instanceof SpringAnimation){
var internalState=previousAnimation.getInternalState();
this.$SpringAnimation_lastPosition=internalState.lastPosition;
this.$SpringAnimation_lastVelocity=internalState.lastVelocity;
this.$SpringAnimation_lastTime=internalState.lastTime;}

if(this.$SpringAnimation_initialVelocity!==undefined&&
this.$SpringAnimation_initialVelocity!==null){
this.$SpringAnimation_lastVelocity=this.$SpringAnimation_initialVelocity;}

this.onUpdate();}},{key:'getInternalState',value:function getInternalState()


{
return {
lastPosition:this.$SpringAnimation_lastPosition,
lastVelocity:this.$SpringAnimation_lastVelocity,
lastTime:this.$SpringAnimation_lastTime};}},{key:'onUpdate',value:function onUpdate()



{
var position=this.$SpringAnimation_lastPosition;
var velocity=this.$SpringAnimation_lastVelocity;

var tempPosition=this.$SpringAnimation_lastPosition;
var tempVelocity=this.$SpringAnimation_lastVelocity;





var MAX_STEPS=64;
var now=Date.now();
if(now>this.$SpringAnimation_lastTime+MAX_STEPS){
now=this.$SpringAnimation_lastTime+MAX_STEPS;}





var TIMESTEP_MSEC=1;
var numSteps=Math.floor((now-this.$SpringAnimation_lastTime)/TIMESTEP_MSEC);

for(var i=0;i<numSteps;++i){

var step=TIMESTEP_MSEC/1000;



var aVelocity=velocity;
var aAcceleration=this.$SpringAnimation_tension*(this.$SpringAnimation_toValue-tempPosition)-this.$SpringAnimation_friction*tempVelocity;
var tempPosition=position+aVelocity*step/2;
var tempVelocity=velocity+aAcceleration*step/2;

var bVelocity=tempVelocity;
var bAcceleration=this.$SpringAnimation_tension*(this.$SpringAnimation_toValue-tempPosition)-this.$SpringAnimation_friction*tempVelocity;
tempPosition=position+bVelocity*step/2;
tempVelocity=velocity+bAcceleration*step/2;

var cVelocity=tempVelocity;
var cAcceleration=this.$SpringAnimation_tension*(this.$SpringAnimation_toValue-tempPosition)-this.$SpringAnimation_friction*tempVelocity;
tempPosition=position+cVelocity*step/2;
tempVelocity=velocity+cAcceleration*step/2;

var dVelocity=tempVelocity;
var dAcceleration=this.$SpringAnimation_tension*(this.$SpringAnimation_toValue-tempPosition)-this.$SpringAnimation_friction*tempVelocity;
tempPosition=position+cVelocity*step/2;
tempVelocity=velocity+cAcceleration*step/2;

var dxdt=(aVelocity+2*(bVelocity+cVelocity)+dVelocity)/6;
var dvdt=(aAcceleration+2*(bAcceleration+cAcceleration)+dAcceleration)/6;

position+=dxdt*step;
velocity+=dvdt*step;}


this.$SpringAnimation_lastTime=now;
this.$SpringAnimation_lastPosition=position;
this.$SpringAnimation_lastVelocity=velocity;

this.$SpringAnimation_onUpdate(position);
if(!this.__active){
return;}



var isOvershooting=false;
if(this.$SpringAnimation_overshootClamping&&this.$SpringAnimation_tension!==0){
if(this.$SpringAnimation_startPosition<this.$SpringAnimation_toValue){
isOvershooting=position>this.$SpringAnimation_toValue;}else 
{
isOvershooting=position<this.$SpringAnimation_toValue;}}


var isVelocity=Math.abs(velocity)<=this.$SpringAnimation_restSpeedThreshold;
var isDisplacement=true;
if(this.$SpringAnimation_tension!==0){
isDisplacement=Math.abs(this.$SpringAnimation_toValue-position)<=this.$SpringAnimation_restDisplacementThreshold;}


if(isOvershooting||isVelocity&&isDisplacement){
if(this.$SpringAnimation_tension!==0){

this.$SpringAnimation_onUpdate(this.$SpringAnimation_toValue);}


this.__debouncedOnEnd({finished:true});
return;}

this.$SpringAnimation_animationFrame=require('fbjs/lib/requestAnimationFrame')(this.onUpdate.bind(this));}},{key:'stop',value:function stop()


{
this.__active=false;
window.cancelAnimationFrame(this.$SpringAnimation_animationFrame);
this.__debouncedOnEnd({finished:false});}}]);return SpringAnimation;}(Animation);





var _uniqueId=1;var 







AnimatedValue=function(_AnimatedWithChildren){babelHelpers.inherits(AnimatedValue,_AnimatedWithChildren);






function AnimatedValue(value){babelHelpers.classCallCheck(this,AnimatedValue);var _this6=babelHelpers.possibleConstructorReturn(this,Object.getPrototypeOf(AnimatedValue).call(this));

_this6.$AnimatedValue_value=value;
_this6.$AnimatedValue_offset=0;
_this6.$AnimatedValue_animation=null;
_this6.$AnimatedValue_listeners={};return _this6;}babelHelpers.createClass(AnimatedValue,[{key:'__detach',value:function __detach()


{
this.stopAnimation();}},{key:'__getValue',value:function __getValue()


{
return this.$AnimatedValue_value+this.$AnimatedValue_offset;}},{key:'setValue',value:function setValue(






value){
if(this.$AnimatedValue_animation){
this.$AnimatedValue_animation.stop();
this.$AnimatedValue_animation=null;}

this.$AnimatedValue_updateValue(value);}},{key:'setOffset',value:function setOffset(







offset){
this.$AnimatedValue_offset=offset;}},{key:'flattenOffset',value:function flattenOffset()






{
this.$AnimatedValue_value+=this.$AnimatedValue_offset;
this.$AnimatedValue_offset=0;}},{key:'addListener',value:function addListener(







callback){
var id=String(_uniqueId++);
this.$AnimatedValue_listeners[id]=callback;
return id;}},{key:'removeListener',value:function removeListener(


id){
delete this.$AnimatedValue_listeners[id];}},{key:'removeAllListeners',value:function removeAllListeners()


{
this.$AnimatedValue_listeners={};}},{key:'stopAnimation',value:function stopAnimation(







callback){
this.stopTracking();
this.$AnimatedValue_animation&&this.$AnimatedValue_animation.stop();
this.$AnimatedValue_animation=null;
callback&&callback(this.__getValue());}},{key:'interpolate',value:function interpolate(






config){
return new AnimatedInterpolation(this,require('Interpolation').create(config));}},{key:'animate',value:function animate(






animation,callback){var _this7=this;
var handle=null;
if(animation.__isInteraction){
handle=require('InteractionManager').createInteractionHandle();}

var previousAnimation=this.$AnimatedValue_animation;
this.$AnimatedValue_animation&&this.$AnimatedValue_animation.stop();
this.$AnimatedValue_animation=animation;
animation.start(
this.$AnimatedValue_value,
function(value){
_this7.$AnimatedValue_updateValue(value);},

function(result){
_this7.$AnimatedValue_animation=null;
if(handle!==null){
require('InteractionManager').clearInteractionHandle(handle);}

callback&&callback(result);},

previousAnimation);}},{key:'stopTracking',value:function stopTracking()






{
this.$AnimatedValue_tracking&&this.$AnimatedValue_tracking.__detach();
this.$AnimatedValue_tracking=null;}},{key:'track',value:function track(





tracking){
this.stopTracking();
this.$AnimatedValue_tracking=tracking;}},{key:'$AnimatedValue_updateValue',value:function $AnimatedValue_updateValue(


value){
this.$AnimatedValue_value=value;
_flush(this);
for(var key in this.$AnimatedValue_listeners){
this.$AnimatedValue_listeners[key]({value:this.__getValue()});}}}]);return AnimatedValue;}(AnimatedWithChildren);var 












































AnimatedValueXY=function(_AnimatedWithChildren2){babelHelpers.inherits(AnimatedValueXY,_AnimatedWithChildren2);




function AnimatedValueXY(valueIn){babelHelpers.classCallCheck(this,AnimatedValueXY);var _this8=babelHelpers.possibleConstructorReturn(this,Object.getPrototypeOf(AnimatedValueXY).call(this));

var value=valueIn||{x:0,y:0};
if(typeof value.x==='number'&&typeof value.y==='number'){
_this8.x=new AnimatedValue(value.x);
_this8.y=new AnimatedValue(value.y);}else 
{
!(
value.x instanceof AnimatedValue&&
value.y instanceof AnimatedValue)?require('fbjs/lib/invariant')(0,
'AnimatedValueXY must be initalized with an object of numbers or '+
'AnimatedValues.'):undefined;

_this8.x=value.x;
_this8.y=value.y;}

_this8.$AnimatedValueXY_listeners={};return _this8;}babelHelpers.createClass(AnimatedValueXY,[{key:'setValue',value:function setValue(


value){
this.x.setValue(value.x);
this.y.setValue(value.y);}},{key:'setOffset',value:function setOffset(


offset){
this.x.setOffset(offset.x);
this.y.setOffset(offset.y);}},{key:'flattenOffset',value:function flattenOffset()


{
this.x.flattenOffset();
this.y.flattenOffset();}},{key:'__getValue',value:function __getValue()


{
return {
x:this.x.__getValue(),
y:this.y.__getValue()};}},{key:'stopAnimation',value:function stopAnimation(



callback){
this.x.stopAnimation();
this.y.stopAnimation();
callback&&callback(this.__getValue());}},{key:'addListener',value:function addListener(


callback){var _this9=this;
var id=String(_uniqueId++);
var jointCallback=function(_ref){var number=_ref.value;
callback(_this9.__getValue());};

this.$AnimatedValueXY_listeners[id]={
x:this.x.addListener(jointCallback),
y:this.y.addListener(jointCallback)};

return id;}},{key:'removeListener',value:function removeListener(


id){
this.x.removeListener(this.$AnimatedValueXY_listeners[id].x);
this.y.removeListener(this.$AnimatedValueXY_listeners[id].y);
delete this.$AnimatedValueXY_listeners[id];}},{key:'getLayout',value:function getLayout()









{
return {
left:this.x,
top:this.y};}},{key:'getTranslateTransform',value:function getTranslateTransform()












{
return [
{translateX:this.x},
{translateY:this.y}];}}]);return AnimatedValueXY;}(AnimatedWithChildren);var 




AnimatedInterpolation=function(_AnimatedWithChildren3){babelHelpers.inherits(AnimatedInterpolation,_AnimatedWithChildren3);



function AnimatedInterpolation(parent,interpolation){babelHelpers.classCallCheck(this,AnimatedInterpolation);var _this10=babelHelpers.possibleConstructorReturn(this,Object.getPrototypeOf(AnimatedInterpolation).call(this));

_this10.$AnimatedInterpolation_parent=parent;
_this10.$AnimatedInterpolation_interpolation=interpolation;return _this10;}babelHelpers.createClass(AnimatedInterpolation,[{key:'__getValue',value:function __getValue()


{
var parentValue=this.$AnimatedInterpolation_parent.__getValue();
!(
typeof parentValue==='number')?require('fbjs/lib/invariant')(0,
'Cannot interpolate an input which is not a number.'):undefined;

return this.$AnimatedInterpolation_interpolation(parentValue);}},{key:'interpolate',value:function interpolate(


config){
return new AnimatedInterpolation(this,require('Interpolation').create(config));}},{key:'__attach',value:function __attach()


{
this.$AnimatedInterpolation_parent.__addChild(this);}},{key:'__detach',value:function __detach()


{
this.$AnimatedInterpolation_parent.__removeChild(this);}}]);return AnimatedInterpolation;}(AnimatedWithChildren);var 



AnimatedAddition=function(_AnimatedWithChildren4){babelHelpers.inherits(AnimatedAddition,_AnimatedWithChildren4);



function AnimatedAddition(a,b){babelHelpers.classCallCheck(this,AnimatedAddition);var _this11=babelHelpers.possibleConstructorReturn(this,Object.getPrototypeOf(AnimatedAddition).call(this));

_this11.$AnimatedAddition_a=typeof a==='number'?new AnimatedValue(a):a;
_this11.$AnimatedAddition_b=typeof b==='number'?new AnimatedValue(b):b;return _this11;}babelHelpers.createClass(AnimatedAddition,[{key:'__getValue',value:function __getValue()


{
return this.$AnimatedAddition_a.__getValue()+this.$AnimatedAddition_b.__getValue();}},{key:'interpolate',value:function interpolate(


config){
return new AnimatedInterpolation(this,require('Interpolation').create(config));}},{key:'__attach',value:function __attach()


{
this.$AnimatedAddition_a.__addChild(this);
this.$AnimatedAddition_b.__addChild(this);}},{key:'__detach',value:function __detach()


{
this.$AnimatedAddition_a.__removeChild(this);
this.$AnimatedAddition_b.__removeChild(this);}}]);return AnimatedAddition;}(AnimatedWithChildren);var 



AnimatedMultiplication=function(_AnimatedWithChildren5){babelHelpers.inherits(AnimatedMultiplication,_AnimatedWithChildren5);



function AnimatedMultiplication(a,b){babelHelpers.classCallCheck(this,AnimatedMultiplication);var _this12=babelHelpers.possibleConstructorReturn(this,Object.getPrototypeOf(AnimatedMultiplication).call(this));

_this12.$AnimatedMultiplication_a=typeof a==='number'?new AnimatedValue(a):a;
_this12.$AnimatedMultiplication_b=typeof b==='number'?new AnimatedValue(b):b;return _this12;}babelHelpers.createClass(AnimatedMultiplication,[{key:'__getValue',value:function __getValue()


{
return this.$AnimatedMultiplication_a.__getValue()*this.$AnimatedMultiplication_b.__getValue();}},{key:'interpolate',value:function interpolate(


config){
return new AnimatedInterpolation(this,require('Interpolation').create(config));}},{key:'__attach',value:function __attach()


{
this.$AnimatedMultiplication_a.__addChild(this);
this.$AnimatedMultiplication_b.__addChild(this);}},{key:'__detach',value:function __detach()


{
this.$AnimatedMultiplication_a.__removeChild(this);
this.$AnimatedMultiplication_b.__removeChild(this);}}]);return AnimatedMultiplication;}(AnimatedWithChildren);var 



AnimatedModulo=function(_AnimatedWithChildren6){babelHelpers.inherits(AnimatedModulo,_AnimatedWithChildren6);



function AnimatedModulo(a,modulus){babelHelpers.classCallCheck(this,AnimatedModulo);var _this13=babelHelpers.possibleConstructorReturn(this,Object.getPrototypeOf(AnimatedModulo).call(this));

_this13.$AnimatedModulo_a=a;
_this13.$AnimatedModulo_modulus=modulus;return _this13;}babelHelpers.createClass(AnimatedModulo,[{key:'__getValue',value:function __getValue()


{
return (this.$AnimatedModulo_a.__getValue()%this.$AnimatedModulo_modulus+this.$AnimatedModulo_modulus)%this.$AnimatedModulo_modulus;}},{key:'interpolate',value:function interpolate(


config){
return new AnimatedInterpolation(this,require('Interpolation').create(config));}},{key:'__attach',value:function __attach()


{
this.$AnimatedModulo_a.__addChild(this);}},{key:'__detach',value:function __detach()


{
this.$AnimatedModulo_a.__removeChild(this);}}]);return AnimatedModulo;}(AnimatedWithChildren);var 



AnimatedTransform=function(_AnimatedWithChildren7){babelHelpers.inherits(AnimatedTransform,_AnimatedWithChildren7);


function AnimatedTransform(transforms){babelHelpers.classCallCheck(this,AnimatedTransform);var _this14=babelHelpers.possibleConstructorReturn(this,Object.getPrototypeOf(AnimatedTransform).call(this));

_this14.$AnimatedTransform_transforms=transforms;return _this14;}babelHelpers.createClass(AnimatedTransform,[{key:'__getValue',value:function __getValue()


{
return this.$AnimatedTransform_transforms.map(function(transform){
var result={};
for(var key in transform){
var value=transform[key];
if(value instanceof Animated){
result[key]=value.__getValue();}else 
{
result[key]=value;}}


return result;});}},{key:'__getAnimatedValue',value:function __getAnimatedValue()



{
return this.$AnimatedTransform_transforms.map(function(transform){
var result={};
for(var key in transform){
var value=transform[key];
if(value instanceof Animated){
result[key]=value.__getAnimatedValue();}else 
{

result[key]=value;}}


return result;});}},{key:'__attach',value:function __attach()



{var _this15=this;
this.$AnimatedTransform_transforms.forEach(function(transform){
for(var key in transform){
var value=transform[key];
if(value instanceof Animated){
value.__addChild(_this15);}}});}},{key:'__detach',value:function __detach()





{var _this16=this;
this.$AnimatedTransform_transforms.forEach(function(transform){
for(var key in transform){
var value=transform[key];
if(value instanceof Animated){
value.__removeChild(_this16);}}});}}]);return AnimatedTransform;}(AnimatedWithChildren);var 






AnimatedStyle=function(_AnimatedWithChildren8){babelHelpers.inherits(AnimatedStyle,_AnimatedWithChildren8);


function AnimatedStyle(style){babelHelpers.classCallCheck(this,AnimatedStyle);var _this17=babelHelpers.possibleConstructorReturn(this,Object.getPrototypeOf(AnimatedStyle).call(this));

style=require('flattenStyle')(style)||{};
if(style.transform){
style=babelHelpers.extends({},
style,{
transform:new AnimatedTransform(style.transform)});}


_this17.$AnimatedStyle_style=style;return _this17;}babelHelpers.createClass(AnimatedStyle,[{key:'__getValue',value:function __getValue()


{
var style={};
for(var key in this.$AnimatedStyle_style){
var value=this.$AnimatedStyle_style[key];
if(value instanceof Animated){
style[key]=value.__getValue();}else 
{
style[key]=value;}}


return style;}},{key:'__getAnimatedValue',value:function __getAnimatedValue()


{
var style={};
for(var key in this.$AnimatedStyle_style){
var value=this.$AnimatedStyle_style[key];
if(value instanceof Animated){
style[key]=value.__getAnimatedValue();}}


return style;}},{key:'__attach',value:function __attach()


{
for(var key in this.$AnimatedStyle_style){
var value=this.$AnimatedStyle_style[key];
if(value instanceof Animated){
value.__addChild(this);}}}},{key:'__detach',value:function __detach()




{
for(var key in this.$AnimatedStyle_style){
var value=this.$AnimatedStyle_style[key];
if(value instanceof Animated){
value.__removeChild(this);}}}}]);return AnimatedStyle;}(AnimatedWithChildren);var 





AnimatedProps=function(_Animated2){babelHelpers.inherits(AnimatedProps,_Animated2);



function AnimatedProps(
props,
callback)
{babelHelpers.classCallCheck(this,AnimatedProps);var _this18=babelHelpers.possibleConstructorReturn(this,Object.getPrototypeOf(AnimatedProps).call(this));

if(props.style){
props=babelHelpers.extends({},
props,{
style:new AnimatedStyle(props.style)});}


_this18.$AnimatedProps_props=props;
_this18.$AnimatedProps_callback=callback;
_this18.__attach();return _this18;}babelHelpers.createClass(AnimatedProps,[{key:'__getValue',value:function __getValue()


{
var props={};
for(var key in this.$AnimatedProps_props){
var value=this.$AnimatedProps_props[key];
if(value instanceof Animated){
props[key]=value.__getValue();}else 
{
props[key]=value;}}


return props;}},{key:'__getAnimatedValue',value:function __getAnimatedValue()


{
var props={};
for(var key in this.$AnimatedProps_props){
var value=this.$AnimatedProps_props[key];
if(value instanceof Animated){
props[key]=value.__getAnimatedValue();}}


return props;}},{key:'__attach',value:function __attach()


{
for(var key in this.$AnimatedProps_props){
var value=this.$AnimatedProps_props[key];
if(value instanceof Animated){
value.__addChild(this);}}}},{key:'__detach',value:function __detach()




{
for(var key in this.$AnimatedProps_props){
var value=this.$AnimatedProps_props[key];
if(value instanceof Animated){
value.__removeChild(this);}}}},{key:'update',value:function update()




{
this.$AnimatedProps_callback();}}]);return AnimatedProps;}(Animated);



function createAnimatedComponent(Component){
var refName='node';var 

AnimatedComponent=function(_React$Component){babelHelpers.inherits(AnimatedComponent,_React$Component);function AnimatedComponent(){babelHelpers.classCallCheck(this,AnimatedComponent);return babelHelpers.possibleConstructorReturn(this,Object.getPrototypeOf(AnimatedComponent).apply(this,arguments));}babelHelpers.createClass(AnimatedComponent,[{key:'componentWillUnmount',value:function componentWillUnmount()


{
this.$AnimatedComponent_propsAnimated&&this.$AnimatedComponent_propsAnimated.__detach();}},{key:'setNativeProps',value:function setNativeProps(


props){
this.refs[refName].setNativeProps(props);}},{key:'componentWillMount',value:function componentWillMount()


{
this.attachProps(this.props);}},{key:'attachProps',value:function attachProps(


nextProps){var _this20=this;
var oldPropsAnimated=this.$AnimatedComponent_propsAnimated;







var callback=function(){
if(_this20.refs[refName].setNativeProps){
var value=_this20.$AnimatedComponent_propsAnimated.__getAnimatedValue();
_this20.refs[refName].setNativeProps(value);}else 
{
_this20.forceUpdate();}};



this.$AnimatedComponent_propsAnimated=new AnimatedProps(
nextProps,
callback);










oldPropsAnimated&&oldPropsAnimated.__detach();}},{key:'componentWillReceiveProps',value:function componentWillReceiveProps(


nextProps){
this.attachProps(nextProps);}},{key:'render',value:function render()


{
return (
require('React').createElement(Component,babelHelpers.extends({},
this.$AnimatedComponent_propsAnimated.__getValue(),{
ref:refName})));}}]);return AnimatedComponent;}(require('React').Component);




AnimatedComponent.propTypes={
style:function(props,propName,componentName){
if(!Component.propTypes){
return;}


for(var key in require('ViewStylePropTypes')){
if(!Component.propTypes[key]&&props[key]!==undefined){
console.error(
'You are setting the style `{ '+key+': ... }` as a prop. You '+
'should nest it in a style object. '+
'E.g. `{ style: { '+key+': ... } }`');}}}};






return AnimatedComponent;}var 


AnimatedTracking=function(_Animated3){babelHelpers.inherits(AnimatedTracking,_Animated3);






function AnimatedTracking(
value,
parent,
animationClass,
animationConfig,
callback)
{babelHelpers.classCallCheck(this,AnimatedTracking);var _this21=babelHelpers.possibleConstructorReturn(this,Object.getPrototypeOf(AnimatedTracking).call(this));

_this21.$AnimatedTracking_value=value;
_this21.$AnimatedTracking_parent=parent;
_this21.$AnimatedTracking_animationClass=animationClass;
_this21.$AnimatedTracking_animationConfig=animationConfig;
_this21.$AnimatedTracking_callback=callback;
_this21.__attach();return _this21;}babelHelpers.createClass(AnimatedTracking,[{key:'__getValue',value:function __getValue()


{
return this.$AnimatedTracking_parent.__getValue();}},{key:'__attach',value:function __attach()


{
this.$AnimatedTracking_parent.__addChild(this);}},{key:'__detach',value:function __detach()


{
this.$AnimatedTracking_parent.__removeChild(this);}},{key:'update',value:function update()


{
this.$AnimatedTracking_value.animate(new this.$AnimatedTracking_animationClass(babelHelpers.extends({},
this.$AnimatedTracking_animationConfig,{
toValue:this.$AnimatedTracking_animationConfig.toValue.__getValue()})),
this.$AnimatedTracking_callback);}}]);return AnimatedTracking;}(Animated);








var add=function(
a,
b)
{
return new AnimatedAddition(a,b);};


var multiply=function(
a,
b)
{
return new AnimatedMultiplication(a,b);};


var modulo=function(
a,
modulus)
{
return new AnimatedModulo(a,modulus);};



var maybeVectorAnim=function(
value,
config,
anim)
{
if(value instanceof AnimatedValueXY){
var configX=babelHelpers.extends({},config);
var configY=babelHelpers.extends({},config);
for(var key in config){var _config$key=
config[key];var x=_config$key.x;var y=_config$key.y;
if(x!==undefined&&y!==undefined){
configX[key]=x;
configY[key]=y;}}


var aX=anim(value.x,configX);
var aY=anim(value.y,configY);


return parallel([aX,aY],{stopTogether:false});}

return null;};


var spring=function(
value,
config)
{
return maybeVectorAnim(value,config,spring)||{
start:function(callback){
var singleValue=value;
var singleConfig=config;
singleValue.stopTracking();
if(config.toValue instanceof Animated){
singleValue.track(new AnimatedTracking(
singleValue,
config.toValue,
SpringAnimation,
singleConfig,
callback));}else 

{
singleValue.animate(new SpringAnimation(singleConfig),callback);}},



stop:function(){
value.stopAnimation();}};};




var timing=function(
value,
config)
{
return maybeVectorAnim(value,config,timing)||{
start:function(callback){
var singleValue=value;
var singleConfig=config;
singleValue.stopTracking();
if(config.toValue instanceof Animated){
singleValue.track(new AnimatedTracking(
singleValue,
config.toValue,
TimingAnimation,
singleConfig,
callback));}else 

{
singleValue.animate(new TimingAnimation(singleConfig),callback);}},



stop:function(){
value.stopAnimation();}};};




var decay=function(
value,
config)
{
return maybeVectorAnim(value,config,decay)||{
start:function(callback){
var singleValue=value;
var singleConfig=config;
singleValue.stopTracking();
singleValue.animate(new DecayAnimation(singleConfig),callback);},


stop:function(){
value.stopAnimation();}};};




var sequence=function(
animations)
{
var current=0;
return {
start:function(callback){
var onComplete=function(result){
if(!result.finished){
callback&&callback(result);
return;}


current++;

if(current===animations.length){
callback&&callback(result);
return;}


animations[current].start(onComplete);};


if(animations.length===0){
callback&&callback({finished:true});}else 
{
animations[current].start(onComplete);}},



stop:function(){
if(current<animations.length){
animations[current].stop();}}};};








var parallel=function(
animations,
config)
{
var doneCount=0;

var hasEnded={};
var stopTogether=!(config&&config.stopTogether===false);

var result={
start:function(callback){
if(doneCount===animations.length){
callback&&callback({finished:true});
return;}


animations.forEach(function(animation,idx){
var cb=function(endResult){
hasEnded[idx]=true;
doneCount++;
if(doneCount===animations.length){
doneCount=0;
callback&&callback(endResult);
return;}


if(!endResult.finished&&stopTogether){
result.stop();}};



if(!animation){
cb({finished:true});}else 
{
animation.start(cb);}});},




stop:function(){
animations.forEach(function(animation,idx){
!hasEnded[idx]&&animation.stop();
hasEnded[idx]=true;});}};




return result;};


var delay=function(time){

return timing(new AnimatedValue(0),{toValue:0,delay:time,duration:0});};


var stagger=function(
time,
animations)
{
return parallel(animations.map(function(animation,i){
return sequence([
delay(time*i),
animation]);}));};







var event=function(
argMapping,
config)
{
return function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}
var traverse=function(recMapping,recEvt,key){
if(typeof recEvt==='number'){
!(
recMapping instanceof AnimatedValue)?require('fbjs/lib/invariant')(0,
'Bad mapping of type '+typeof recMapping+' for key '+key+
', event value must map to AnimatedValue'):undefined;

recMapping.setValue(recEvt);
return;}

!(
typeof recMapping==='object')?require('fbjs/lib/invariant')(0,
'Bad mapping of type '+typeof recMapping+' for key '+key):undefined;

!(
typeof recEvt==='object')?require('fbjs/lib/invariant')(0,
'Bad event of type '+typeof recEvt+' for key '+key):undefined;

for(var key in recMapping){
traverse(recMapping[key],recEvt[key],key);}};


argMapping.forEach(function(mapping,idx){
traverse(mapping,args[idx],'arg'+idx);});

if(config&&config.listener){
config.listener.apply(null,args);}};};





























































































module.exports={




Value:AnimatedValue,



ValueXY:AnimatedValueXY,





decay:decay,




timing:timing,




spring:spring,





add:add,




multiply:multiply,





modulo:modulo,




delay:delay,





sequence:sequence,





parallel:parallel,




stagger:stagger,

















event:event,




createAnimatedComponent:createAnimatedComponent,

__PropsOnlyForTests:AnimatedProps};