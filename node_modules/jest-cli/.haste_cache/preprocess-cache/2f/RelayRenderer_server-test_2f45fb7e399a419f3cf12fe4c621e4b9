/**
 * Copyright 2013-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @emails oncall+relay
 */

'use strict';

require('configureForRelayOSS');

jest.dontMock('RelayRenderer');








describe('RelayRenderer', function () {
  var MockComponent = undefined;
  var MockContainer = undefined;

  var queryConfig = undefined;

  beforeEach(function () {
    jest.resetModuleRegistry();

    MockComponent = require('/Users/cpojer/Projects/relay/scripts/jest/../../node_modules/react').createClass({ displayName: 'MockComponent', render: function () {return require('/Users/cpojer/Projects/relay/scripts/jest/../../node_modules/react').createElement('div', null);} });
    MockContainer = require('Relay').createContainer(MockComponent, { 
      fragments: {} });


    queryConfig = require('RelayQueryConfig').genMockInstance();});


  it('does not run queries on the server', function () {
    require('/Users/cpojer/Projects/relay/scripts/jest/../../node_modules/react-dom/server').renderToString(
    require('/Users/cpojer/Projects/relay/scripts/jest/../../node_modules/react').createElement(require('RelayRenderer'), { Container: MockContainer, queryConfig: queryConfig }));

    expect(require('RelayStore').forceFetch).not.toBeCalled();
    expect(require('RelayStore').primeCache).not.toBeCalled();});});