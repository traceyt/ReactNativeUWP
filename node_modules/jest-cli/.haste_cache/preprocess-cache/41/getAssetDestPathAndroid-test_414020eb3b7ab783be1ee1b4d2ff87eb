'use strict';









jest.
dontMock('../getAssetDestPathAndroid').
dontMock('../assetPathUtils');



describe('getAssetDestPathAndroid',function(){
it('should use the right destination folder',function(){
var asset={
name:'icon',
type:'png',
httpServerLocation:'/assets/test'};


var expectDestPathForScaleToStartWith=function(scale,path){
if(!require('../getAssetDestPathAndroid')(asset,scale).startsWith(path)){
throw new Error('asset for scale '+scale+' should start with path \''+path+'\'');}};



expectDestPathForScaleToStartWith(1,'drawable-mdpi');
expectDestPathForScaleToStartWith(1.5,'drawable-hdpi');
expectDestPathForScaleToStartWith(2,'drawable-xhdpi');
expectDestPathForScaleToStartWith(3,'drawable-xxhdpi');
expectDestPathForScaleToStartWith(4,'drawable-xxxhdpi');});


it('should lowercase path',function(){
var asset={
name:'Icon',
type:'png',
httpServerLocation:'/assets/App/Test'};


expect(require('../getAssetDestPathAndroid')(asset,1)).toBe(
'drawable-mdpi/app_test_icon.png');});



it('should remove `assets/` prefix',function(){
var asset={
name:'icon',
type:'png',
httpServerLocation:'/assets/RKJSModules/Apps/AndroidSample/Assets'};


expect(
require('../getAssetDestPathAndroid')(asset,1).startsWith('assets_')).
toBeFalsy();});});