'use strict';















var AdCampaignGroupActivateAction={
handleSwitch:function(
campaignGroupID,
isActivating,
onSuccess,
onFailure)
{
!
require('isValidRecordID')(campaignGroupID)?require('invariant')(0,
'Action taken on unknown campaignGroup '+campaignGroupID):undefined;


var mutationName=isActivating?
'ad_campaign_group_activate':
'ad_campaign_group_pause';

var mutationFrag=require('GraphQLMutationQueryCreator').createQuery(
mutationName,
{ad_campaign_group:campaignGroupID});


var mutation;
if(isActivating){
mutation=function(RQL_0){return {calls:[{kind:'Call',metadata:{},name:'ad_campaign_group_activate',value:{kind:'CallVariable',callVariableName:'input'}}],children:[].concat.apply([],[{fieldName:'client_mutation_id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},require('Relay').QL.__frag(RQL_0)]),kind:'Mutation',metadata:{inputType:'AdCampaignGroupActivateData!'},name:'AdCampaignGroupActivateAction',responseType:'AdCampaignGroupActivateResponsePayload'};}(


mutationFrag);}else 



{
mutation=function(RQL_0){return {calls:[{kind:'Call',metadata:{},name:'ad_campaign_group_pause',value:{kind:'CallVariable',callVariableName:'input'}}],children:[].concat.apply([],[{fieldName:'client_mutation_id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},require('Relay').QL.__frag(RQL_0)]),kind:'Mutation',metadata:{inputType:'AdCampaignGroupPauseData!'},name:'AdCampaignGroupActivateAction',responseType:'AdCampaignGroupPauseResponsePayload'};}(


mutationFrag);}





var action=new (require('AdsManagerMutationAction'))(
isActivating?
require('MobileAdsManagerLoggerConsts').events.ACTIVATE_CAMPAIGN_GROUP:
require('MobileAdsManagerLoggerConsts').events.PAUSE_CAMPAIGN_GROUP);



action.runOptimisticAction(
this._buildOptimisticPayload(campaignGroupID,isActivating));


action.runServerAction(
mutation,
{
ad_campaign_group_id:campaignGroupID},

function(err,response){
if(err){
onFailure(err);}else 
{
onSuccess(response);}



var id=action.getClientMutationID();
require('defaultRQLMutationCallback')(err,response,mutation,id);});},




_buildOptimisticPayload:function(campaignGroupID,isActivating){
var updatedCampaignGroup={
id:campaignGroupID,
run_status_info_with_flattening:{
is_active:isActivating}};



var payloadName=isActivating?
'ad_campaign_group_activate':
'ad_campaign_group_pause';
var result={};
result[payloadName]={
ad_campaign_group:updatedCampaignGroup};

return result;}};



module.exports=AdCampaignGroupActivateAction;