'use strict';









jest.dontMock('normalizeColor');



describe('normalizeColor',function(){
it('should accept only spec compliant colors',function(){
expect(require('normalizeColor')('#abc')).not.toBe(null);
expect(require('normalizeColor')('#abcd')).not.toBe(null);
expect(require('normalizeColor')('#abcdef')).not.toBe(null);
expect(require('normalizeColor')('#abcdef01')).not.toBe(null);
expect(require('normalizeColor')('rgb(1,2,3)')).not.toBe(null);
expect(require('normalizeColor')('rgb(1, 2, 3)')).not.toBe(null);
expect(require('normalizeColor')('rgb(   1   , 2   , 3   )')).not.toBe(null);
expect(require('normalizeColor')('rgb(-1, -2, -3)')).not.toBe(null);
expect(require('normalizeColor')('rgba(0, 0, 0, 1)')).not.toBe(null);
expect(require('normalizeColor')(0x01234567+0.5)).toBe(null);
expect(require('normalizeColor')(-1)).toBe(null);
expect(require('normalizeColor')(0xffffffff+1)).toBe(null);});


it('should temporarly accept floating point values for rgb',function(){
expect(require('normalizeColor')('rgb(1.1, 2.1, 3.1)')).toBe(0x010203ff);
expect(require('normalizeColor')('rgba(1.1, 2.1, 3.1, 1.0)')).toBe(0x010203ff);});


it('should refuse non spec compliant colors',function(){
expect(require('normalizeColor')('#00gg00')).toBe(null);
expect(require('normalizeColor')('rgb(1, 2, 3,)')).toBe(null);
expect(require('normalizeColor')('rgb(1, 2, 3')).toBe(null);


expect(require('normalizeColor')('abc')).toBe(null);
expect(require('normalizeColor')(' #abc ')).toBe(null);
expect(require('normalizeColor')('##abc')).toBe(null);
expect(require('normalizeColor')('rgb 255 0 0')).toBe(null);
expect(require('normalizeColor')('RGBA(0, 1, 2)')).toBe(null);
expect(require('normalizeColor')('rgb (0, 1, 2)')).toBe(null);
expect(require('normalizeColor')('hsv(0, 1, 2)')).toBe(null);
expect(require('normalizeColor')({r:10,g:10,b:10})).toBe(null);
expect(require('normalizeColor')('hsl(1%, 2, 3)')).toBe(null);
expect(require('normalizeColor')('rgb(1%, 2%, 3%)')).toBe(null);});


it('should handle hex6 properly',function(){
expect(require('normalizeColor')('#000000')).toBe(0x000000ff);
expect(require('normalizeColor')('#ffffff')).toBe(0xffffffff);
expect(require('normalizeColor')('#ff00ff')).toBe(0xff00ffff);
expect(require('normalizeColor')('#abcdef')).toBe(0xabcdefff);
expect(require('normalizeColor')('#012345')).toBe(0x012345ff);});


it('should handle hex3 properly',function(){
expect(require('normalizeColor')('#000')).toBe(0x000000ff);
expect(require('normalizeColor')('#fff')).toBe(0xffffffff);
expect(require('normalizeColor')('#f0f')).toBe(0xff00ffff);});


it('should handle hex8 properly',function(){
expect(require('normalizeColor')('#00000000')).toBe(0x00000000);
expect(require('normalizeColor')('#ffffffff')).toBe(0xffffffff);
expect(require('normalizeColor')('#ffff00ff')).toBe(0xffff00ff);
expect(require('normalizeColor')('#abcdef01')).toBe(0xabcdef01);
expect(require('normalizeColor')('#01234567')).toBe(0x01234567);});


it('should handle rgb properly',function(){
expect(require('normalizeColor')('rgb(0, 0, 0)')).toBe(0x000000ff);
expect(require('normalizeColor')('rgb(-1, -2, -3)')).toBe(0x000000ff);
expect(require('normalizeColor')('rgb(0, 0, 255)')).toBe(0x0000ffff);
expect(require('normalizeColor')('rgb(100, 15, 69)')).toBe(0x640f45ff);
expect(require('normalizeColor')('rgb(255, 255, 255)')).toBe(0xffffffff);
expect(require('normalizeColor')('rgb(256, 256, 256)')).toBe(0xffffffff);});


it('should handle rgba properly',function(){
expect(require('normalizeColor')('rgba(0, 0, 0, 0.0)')).toBe(0x00000000);
expect(require('normalizeColor')('rgba(0, 0, 0, 0)')).toBe(0x00000000);
expect(require('normalizeColor')('rgba(0, 0, 0, -0.5)')).toBe(0x00000000);
expect(require('normalizeColor')('rgba(0, 0, 0, 1.0)')).toBe(0x000000ff);
expect(require('normalizeColor')('rgba(0, 0, 0, 1)')).toBe(0x000000ff);
expect(require('normalizeColor')('rgba(0, 0, 0, 1.5)')).toBe(0x000000ff);
expect(require('normalizeColor')('rgba(100, 15, 69, 0.5)')).toBe(0x640f4580);});


it('should handle hsl properly',function(){
expect(require('normalizeColor')('hsl(0, 0%, 0%)')).toBe(0x000000ff);
expect(require('normalizeColor')('hsl(360, 100%, 100%)')).toBe(0xffffffff);
expect(require('normalizeColor')('hsl(180, 50%, 50%)')).toBe(0x40bfbfff);
expect(require('normalizeColor')('hsl(540, 50%, 50%)')).toBe(0x40bfbfff);
expect(require('normalizeColor')('hsl(70, 25%, 75%)')).toBe(0xcacfafff);
expect(require('normalizeColor')('hsl(70, 100%, 75%)')).toBe(0xeaff80ff);
expect(require('normalizeColor')('hsl(70, 110%, 75%)')).toBe(0xeaff80ff);
expect(require('normalizeColor')('hsl(70, 0%, 75%)')).toBe(0xbfbfbfff);
expect(require('normalizeColor')('hsl(70, -10%, 75%)')).toBe(0xbfbfbfff);});


it('should handle hsla properly',function(){
expect(require('normalizeColor')('hsla(0, 0%, 0%, 0)')).toBe(0x00000000);
expect(require('normalizeColor')('hsla(360, 100%, 100%, 1)')).toBe(0xffffffff);
expect(require('normalizeColor')('hsla(360, 100%, 100%, 0)')).toBe(0xffffff00);
expect(require('normalizeColor')('hsla(180, 50%, 50%, 0.2)')).toBe(0x40bfbf33);});


it('should handle named colors properly',function(){
expect(require('normalizeColor')('red')).toBe(0xff0000ff);
expect(require('normalizeColor')('transparent')).toBe(0x00000000);
expect(require('normalizeColor')('peachpuff')).toBe(0xffdab9ff);});


it('should handle number colors properly',function(){
expect(require('normalizeColor')(0x00000000)).toBe(0x00000000);
expect(require('normalizeColor')(0xff0000ff)).toBe(0xff0000ff);
expect(require('normalizeColor')(0xffffffff)).toBe(0xffffffff);
expect(require('normalizeColor')(0x01234567)).toBe(0x01234567);});


it('should return the same color when it\'s already normalized',function(){
var normalizedColor=require('normalizeColor')('red')||0;
expect(require('normalizeColor')(normalizedColor)).toBe(normalizedColor);});});