'use strict';


























function extractDependencies(code){
var ast=require('babylon').parse(code);
var dependencies=new Set();
var dependencyOffsets=[];

require('babel-core').traverse(ast,{
CallExpression:function(path){
var node=path.node;
var callee=node.callee;
var arg=node.arguments[0];
if(callee.type!=='Identifier'||callee.name!=='require'||!arg||arg.type!=='StringLiteral'){
return;}

dependencyOffsets.push(arg.start);
dependencies.add(arg.value);}});



return {dependencyOffsets:dependencyOffsets,dependencies:Array.from(dependencies)};}


module.exports=extractDependencies;