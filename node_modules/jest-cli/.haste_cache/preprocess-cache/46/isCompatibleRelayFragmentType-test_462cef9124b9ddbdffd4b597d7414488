/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @emails oncall+relay
 */

'use strict';

require('configureForRelayOSS');






describe('isCompatibleRelayFragmentType', function () {var 
  getNode = require('RelayTestUtils').getNode;

  it('returns false for different concrete types', function () {
    expect(require('isCompatibleRelayFragmentType')(
    getNode((function () {return { children: [{ fieldName: 'id', kind: 'Field', metadata: { isRequisite: true }, type: 'ID' }], id: 'pDCLZqmq4fKV:0', kind: 'Fragment', metadata: {}, name: 'IsCompatibleRelayFragmentTypeRelayQL', type: 'User' };})()), 
    'Page')).
    toBe(false);});


  it('returns true for equal concrete types', function () {
    expect(require('isCompatibleRelayFragmentType')(
    getNode((function () {return { children: [{ fieldName: 'id', kind: 'Field', metadata: { isRequisite: true }, type: 'ID' }], id: 'BdonyuMfhJ7K:0', kind: 'Fragment', metadata: {}, name: 'IsCompatibleRelayFragmentTypeRelayQL', type: 'User' };})()), 
    'User')).
    toBe(true);});


  it('returns true for abstract fragments', function () {
    expect(require('isCompatibleRelayFragmentType')(
    getNode((function () {return { children: [{ fieldName: 'id', kind: 'Field', metadata: { isRequisite: true }, type: 'ID' }, { fieldName: '__typename', kind: 'Field', metadata: { isGenerated: true, isRequisite: true }, type: 'String' }], id: '1qPAXl5KrJeQ:0', kind: 'Fragment', metadata: { isAbstract: true }, name: 'IsCompatibleRelayFragmentTypeRelayQL', type: 'Node' };})()), 
    'User')).
    toBe(true);});


  it('returns true for client records', function () {
    expect(require('isCompatibleRelayFragmentType')(
    getNode((function () {return { children: [{ fieldName: 'id', kind: 'Field', metadata: { isRequisite: true }, type: 'ID' }], id: 'n90r+mc/4lfX:0', kind: 'Fragment', metadata: {}, name: 'IsCompatibleRelayFragmentTypeRelayQL', type: 'User' };})()), 
    null)).
    toBe(true);});});