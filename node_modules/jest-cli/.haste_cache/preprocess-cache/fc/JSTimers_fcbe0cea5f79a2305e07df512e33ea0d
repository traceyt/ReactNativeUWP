'use strict';













var RCTTiming=require('NativeModules').Timing;







var JSTimers={
Types:require('JSTimersExecution').Types,





_getFreeIndex:function(){
var freeIndex=require('JSTimersExecution').timerIDs.indexOf(null);
if(freeIndex===-1){
freeIndex=require('JSTimersExecution').timerIDs.length;}

return freeIndex;},






setTimeout:function(func,duration){for(var _len=arguments.length,args=Array(_len>2?_len-2:0),_key=2;_key<_len;_key++){args[_key-2]=arguments[_key];}
var newID=require('JSTimersExecution').GUID++;
var freeIndex=JSTimers._getFreeIndex();
require('JSTimersExecution').timerIDs[freeIndex]=newID;
require('JSTimersExecution').callbacks[freeIndex]=function(){
return func.apply(undefined,args);};

require('JSTimersExecution').types[freeIndex]=require('JSTimersExecution').Type.setTimeout;
RCTTiming.createTimer(newID,duration||0,Date.now(),false);
return newID;},






setInterval:function(func,duration){for(var _len2=arguments.length,args=Array(_len2>2?_len2-2:0),_key2=2;_key2<_len2;_key2++){args[_key2-2]=arguments[_key2];}
var newID=require('JSTimersExecution').GUID++;
var freeIndex=JSTimers._getFreeIndex();
require('JSTimersExecution').timerIDs[freeIndex]=newID;
require('JSTimersExecution').callbacks[freeIndex]=function(){
return func.apply(undefined,args);};

require('JSTimersExecution').types[freeIndex]=require('JSTimersExecution').Type.setInterval;
RCTTiming.createTimer(newID,duration||0,Date.now(),true);
return newID;},






setImmediate:function(func){for(var _len3=arguments.length,args=Array(_len3>1?_len3-1:0),_key3=1;_key3<_len3;_key3++){args[_key3-1]=arguments[_key3];}
var newID=require('JSTimersExecution').GUID++;
var freeIndex=JSTimers._getFreeIndex();
require('JSTimersExecution').timerIDs[freeIndex]=newID;
require('JSTimersExecution').callbacks[freeIndex]=function(){
return func.apply(undefined,args);};

require('JSTimersExecution').types[freeIndex]=require('JSTimersExecution').Type.setImmediate;
require('JSTimersExecution').immediates.push(newID);
return newID;},





requestAnimationFrame:function(func){
var newID=require('JSTimersExecution').GUID++;
var freeIndex=JSTimers._getFreeIndex();
require('JSTimersExecution').timerIDs[freeIndex]=newID;
require('JSTimersExecution').callbacks[freeIndex]=func;
require('JSTimersExecution').types[freeIndex]=require('JSTimersExecution').Type.requestAnimationFrame;
RCTTiming.createTimer(newID,1,Date.now(),false);
return newID;},


clearTimeout:function(timerID){
JSTimers._clearTimerID(timerID);},


clearInterval:function(timerID){
JSTimers._clearTimerID(timerID);},


clearImmediate:function(timerID){
JSTimers._clearTimerID(timerID);
var index=require('JSTimersExecution').immediates.indexOf(timerID);
if(index!==-1){
require('JSTimersExecution').immediates.splice(index,1);}},



cancelAnimationFrame:function(timerID){
JSTimers._clearTimerID(timerID);},


_clearTimerID:function(timerID){


if(timerID==null){
return;}


var index=require('JSTimersExecution').timerIDs.indexOf(timerID);

if(index!==-1){
require('JSTimersExecution')._clearIndex(index);
if(require('JSTimersExecution').types[index]!==require('JSTimersExecution').Type.setImmediate){
RCTTiming.deleteTimer(timerID);}}}};





module.exports=JSTimers;