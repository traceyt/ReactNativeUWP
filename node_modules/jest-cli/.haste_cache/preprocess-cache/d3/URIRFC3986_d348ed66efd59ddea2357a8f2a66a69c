var 



















PARSE_PATTERN=new RegExp(
'^'+
'([^:/?#]+:)?'+
'(//'+
'([^\\\\/?#@]*@)?'+
'('+
'\\[[A-Fa-f0-9:.]+\\]|'+
'[^\\/?#:]*'+
')'+
'(:[0-9]*)?'+
')?'+
'([^?#]*)'+
'(\\?[^#]*)?'+
'(#.*)?');








var URIRFC3986={








parse:function(uriString){
if(uriString.trim()===''){
return null;}

var captures=uriString.match(PARSE_PATTERN);
var uri={};




uri.uri=captures[0]?captures[0]:null;
uri.scheme=captures[1]?
captures[1].substr(0,captures[1].length-1):
null;
uri.authority=captures[2]?captures[2].substr(2):null;
uri.userinfo=captures[3]?
captures[3].substr(0,captures[3].length-1):
null;
uri.host=captures[2]?captures[4]:null;
uri.port=captures[5]?
captures[5].substr(1)?parseInt(captures[5].substr(1),10):null:
null;
uri.path=captures[6]?captures[6]:null;
uri.query=captures[7]?captures[7].substr(1):null;
uri.fragment=captures[8]?captures[8].substr(1):null;
uri.isGenericURI=uri.authority===null&&!!uri.scheme;
return uri;}};



module.exports=URIRFC3986;